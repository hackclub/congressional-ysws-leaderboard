<h1>YSWS Leaderboard</h1>

<style>
  .representative-picture {
    max-width: 50px;
    max-height: 50px;
    border-radius: 50%; /* Optional: make images circular */
  }
</style>

<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>District</th>
      <th>Weighted Projects Shipped</th>
      <th>Representative</th>
      <th>Party</th>
      <th>High School Enrollment</th>
      <th>Median Household Income</th>
      <th>Picture</th>
    </tr>
  </thead>
  <tbody>
    <% @districts.each_with_index do |district, index| %>
      <tr>
        <td><%= index + 1 %></td>
        <td><%= district.name %></td>
        <td><%= number_with_precision(district.project_count, precision: 1) %></td>
        <td><%= district.representative_name %></td>
        <td><%= district.representative_party %></td>
        <td><%= number_with_delimiter(district.high_school_enrollment) %></td>
        <td><%= number_to_currency(district.median_household_income, precision: 0) %></td>
        <td>
          <% if district.representative_picture_url.present? %>
            <%= image_tag district.representative_picture_url, alt: "Photo of #{district.representative_name}", class: 'representative-picture' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
