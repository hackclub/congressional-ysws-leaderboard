<div class="relative text-gray-800 font-sans p-4 md:p-8 min-h-screen overflow-hidden">

  <%# Hack Club Flag - Use fixed positioning and Tailwind %>
  <a href="https://hackclub.com/" target="_blank" class="fixed top-0 left-4 z-50">
    <img src="https://assets.hackclub.com/flag-orpheus-top.svg" alt="Hack Club Flag" class="w-24 md:w-32">
  </a>

  <%# Background USA Map SVG - Positioned absolutely, low opacity %>
  <svg class="absolute top-0 left-0 w-[120%] max-w-none -translate-x-9/64 text-gray-100 opacity-50 z-0 pointer-events-none" fill="#f9f9f9" stroke="#e0e0e0" stroke-width="0.5" stroke-linejoin="round" viewBox="0 0 1000 589" xmlns="http://www.w3.org/2000/svg">
    <path d="M956 153zm-3-3h1-1zm12-7v-2 2zm-42-10h-1l-5 2h-2l-2 1h-1v10l1 5h2l8-3v1l14-6v1l1-1 5-2 4 5h1v-1 2h1v1l1 2 5-6 3 1 1-2 6-3-2-5v3l-3 3h-3l-7-8-4-5 4-3h-4l-1-3-6 6-12 4-4 1zM559 74l1 7 5 25 2 9v9l2 5 1 5v2l-4 6 3 4 5 35v4h5l19-1 48-4 4-1-1-8-6-3-5-5-7-4h-2l-4-3 1-13-3-4 1-5 6-6-1-11 2-3 8-8 8-11 4-2 5-3 7-5-4 1-3-2-9 2-2-2-8 3-7-2-2-3-5 1-3-2 1-2-5-1h-4l-6 3-2-2-10-2-4-8v-3l-4-1v7l-12 1-14 1h-1zm-93-1-32-2-24-2-23-3-15-2-23-4-11-2-26-5h-3l-4 20 2 3 1 6-1 1 2 5 3 2 7 12 1 2h3l-4 16h-1l-2 5 10 1v4l6 14 1 1 4 7 1-1h8l10 1 2-3 3 6h1v-1l1-9 34 4 26 2 14 2 25 1h2v-19l1-4 1-30 1-24 1-4h-2z"/>
    <path d="M557 74h-68l-20-1h-1l-1 4-1 24-1 30-1 4h4l43 1h56l3-1v-1l-1-5-2-5v-9l-2-9-5-25-1-7h-2zM416 515l-3-2h-2v6l-3 4 3 7 1 8 3 2 3-4 3-2 5-2 6-4-6-5v-2l-10-6zm-17-8-2-1-1 2 3-1zm-8-4 1-4h-2l1 4zm7-6-2 1 1 4h3v3l3 1 6-3-6-4-5-2zm-13-4-1 3h4l4 1-2-4h-5zm-12-8-2-2-5 4 3 5 2-2 6 1-1-3-3-3zm-44-4 1-1 2-1-3 2zm16-9-7 3-1 2 3 2 4 1 3-6-2-2zm-47-18zm-52-12zm-27-5zm-1-2zm-1-1zm1 0zm0 0zm-31-25zm-66-21zm-70-49zm2 0zm0 0zm-42-18v-1 1zM309 53l-9-2-2-1h-2l-11 51 1 4-1 4v1l1 2 3 4-5 12-10 13v2l2 7-9 38v2l2 1 28 5 11 2h3l2 1 14 2 25 4h3l1-3v-6l4-25 2-13v-3h-1l-3-6-2 3-10-1h-8l-1 1-4-7-1-1-6-14v-4l-10-1 2-5h1l4-16h-3l-1-2-7-12-3-2-2-5 1-1-1-6-2-3 4-20z"/>
    <path d="M192 77v-2 2zm21-9v-1 1zm-2-2 1-1-1-1v2zm7-2v-2l-2 2h2zm0-4 1-2-1-1v3zm1-10-1-1 1 1zm3-6h-1l-2 2 3-2zm-3-3h1v-1l-1 1zm0 0-1-2v2h1zm-1-2-1-1 1 1zm3 1v-1 1zm1-1zm-6-2v-1 1zm4-1-3 1h1l2-1zm-2 0h-1 1zm2-1zm-19 50 3 4v7l1 2 5 3 15 1v2h7l7 1 10-1h7l28 6h1v-1l1-4-1-4 11-51h-1l-23-5-20-6-22-6-7-1 2 8-2 3-2-2 2 12-3 4-1 4v3l-6 4-2-1-2 1 4-6-1 4 2-2h2v-5h1l3-6h-1l-4 4h-2l3-3h2l-1-5-2-1-2-2-1 1-9-4-8-6-2 5-1 3 2 4-1 15-1 2 5 1-5 3 3 1-2 6-1-5-2 6 2 3 3-1 3 2 1 3h2zm171 225-33-4-17-3-25-4h-3l-4 19h-2l-4-3-4 3v16l-1 3v1l-1 2 4 9 3 4-6 3-2 4-3 9h-2v7l3 3-2 4h-3l-2 4 7 4 13 8 41 21 34 5h1l2-29 1-7 7-75 1-4h-3z"/>
    <path d="M206 364v2-2zm-14-9v2h1l-1-2zm17 0v3l2 1-2-4zm-12-14h-1 1zm-11-3-2 2v1l2-3zm-5-1 1 1-1-1zm9 2 4 2 1-1-5-1zm-33-86zm10 1v-1 1zm56-74-4-1-41-12-16-4-1 10-4 11-7 9v4l4 6 1 8-2 6v6l-1 3 4 8 3 4-1 9 6 6 4-6 4 3 1-1-5 1v5l1 6-3-3-2-4v5l1 11 6 7-4 4 1 6 4 6 6 19 2 1v13l1 1 14 6 5 4 1 3 5 3 4 1 2 5 4 2 6 7 5 9v8l3 4 40 4h3l2-4-3-3v-7h2l3-9 2-4 6-3-3-4-4-9 1-2v-1l-3-3-8-10-15-21-21-31-12-16-11-16 13-56 1-4zm267 76v-19l-5-1-23-1h-5l-28-2-20-1-24-2-2-1v3l-5 50-2 18-1 8v2h3l49 5 21 1 22 1h11l6 1h1v-2l1-52 1-5v-3z"/>
    <path d="m295 296 10-63 5-31 1-4h-3l-11-2-28-5-2-1-3-1-14-3-24-5-3-1-1 4-13 56 11 16 12 16 21 31 15 21 8 10 3 3 1-3v-16l4-3 4 3h2l4-19 1-3zm177 29 1-3v-5h-3l-22-1-21-1-49-5h-3l-1 4-7 75-1 7-2 29 13 1 2-7 2-2 27 3-2-5 12 1 31 1 19 1 4-91v-2z"/>
    <path d="m162 163 16 4 41 12 4 1 3 1 24 5 14 3 3 1v-2l9-38-2-7v-2l10-13 5-12-3-4-1-2h-1l-28-6h-7l-10 1-7-1h-7v-2l-15-1-5-3-1-2v-7l-3-4h-1l-5-2-3 1-2-1-2 8-1 3-6 14-2 8h-1l-6 14-3 5-2 1-3 7-1 7-2 7 1 6zm36-80-1-1v1h1zm154 122-25-4-14-2-2-1-1 4-5 31-10 63-1 3h3l25 4 17 3 33 4h3v-2l1-8 2-18 5-50v-3h-2l-25-3h-3l2-19v-2h-3z"/>
    <path d="m461 192 1-15 1-20v-3h-1l-25-1-14-2-26-2-34-4-1 9v4l-2 13-4 25v6l-1 3v2l-2 19h3l25 3h2l2 1 24 2 20 1 28 2h2v-2l1-10 1-18v-13zm229 136-10 2 4-7-2-4-37 4-31 2h-4v3l4 20v4l1 27v4h1l1 2 6-1v9l1 2h3l9-1 36-3h1l-1-2 1-1-1-3 3-16-1-1 5-7v-5l4-7 3-3v-4l2-4v-4l3-6h-1zm-28-130-6-3-3-4-1-6 1-2-3-4-4 1-48 4-19 1h-7l1 11-1 5 2 3v1h1l3 9 3 5v5l3 5v2l3 12h20l21-2 21-3 5 4v1l1-1-1-4 4-2 1-10h-1l1-5 4-1 5-4 2-6v-3l-4-4-1-2-4-2v-1h1zm-53 115-3-41-4-3v-2l-4-3 4-4-2-3-2 1-3-2-1-1h-3l-36 2h-65v2l-1 5-1 52v2h27l53-1 37-1 4-1v-2z"/>
    <path d="m654 242-5-4-21 3-21 2h-20v1l2 5 2 1 3 5 1 1 3 2 2-1 2 3-4 4 4 3v2l4 3 3 41v7l1 3v2h4l31-2 37-4 2 4-4 7 10-2h1v-5l2-3-1-2v-2h1v2l1-1 3-1v-1l1-8-7-6 1-2-2-5-4-3-6-3-4-3v-7l1-7-7 1-2-3-1-4-11-9-3-9 1-4v-1z"/>
    <path d="m572 205-3-3-10-3-4-1-5 2-6-4h-47l-33-1h-3v10l-1 18-1 10v2h3l23 1 5 1v20h65l36-2h3l-3-5-2-1-2-5v-1l-3-12v-2l-3-5v-5l-3-5-3-9h-3zm38 118-1-3v-5l-4 1-37 1-53 1h-28l-6-1h-8v5l-1 3v2h1l23 1h25l1 33 1 6 4 4h4l1-2 6 6h7l2 2 3-1 6 3v2h3l2-3 5 4 5 1 3-4 10 5 4-3 3-2 2 1 9-3 5 2 4 3 4 1v-4l-1-27v-4l-4-20v-5z"/>
    <path d="M567 136h-56l-43-1h-4v19h-1v3l-1 20-1 15v3h3l33 1h47l6 4 5-2 4 1 10 3 3 3h2v-1l-2-3 1-5-1-11h2v-4l-5-35-3-4 4-6v-1l-3 1zm122 333-1 1h-1l2-1zm4 0h-1 1zm2 0h-1 1zm-1-1zm8-5zm14-6v-1l-1 1h1zm2-3-1 1 1-1zm-50 9 1-2-4-1-2 2 5 1zm40-8v-1h-1l1 1zm1-2-1-1v1h1zm8-2zm2-1zm-1 0zm-7-1h1-1zm1 0v-1 1zm-4-4v1-1zm-35-54h-1l-36 3-9 1h-3v3l2 18 3 5v2l3 6 3 8-1 4-1 11-1 4v3l-2 2 12-2 10 3 7 1 3-2-2-3 6-2v2h3l3 4 2-1 6 4-4 1 9 3h3l2-3 4-2 2 4 2-3v-6l5 2 1 1 6 1 3 3-1 2 5-4-2-2-7-2-3-2v-3l3 1 2-5-3-4-1 4-4-1 3-4-2-1-4 3-7 1-1-2 3-5h3l5 2 5 1-3-3-4-9 1-4-33 3 1-1-1-3 2-3 1-8 7-13-3-4v-3l-2-5v-1z"/>
    <path d="m574 537-5-18v4l5 14zm-1-31-3 6-1 2 4-8zm3-4 3-5-3 2v3zm11-10-8 3h2l6-3zm0-2 3-1h-1l-2 1zM472 327l-4 91-19-1-31-1-12-1 2 5h1l10 10 6 7 8 6 6 10 2 11 4 3 4 4 5 2 8 5 3 1 5-5 1-5 3-4 7-3 3 1 8 1 8 5 5 1-1 2 3 2 3 4v3l2 3 4 10 5 4 3 5 4 4 2 1 2 11 4 2v4h1l8 9 4 1 5 3h8l6 3 7-1-3-3-3-8-1-7-2-3 1-4h-2l-3-5 3 3 4-1 2-5-4-5h6l2-4v-1l2-3v2l3-2-1-4 3 2 4-2-4-5 3 1 5 1 6-2 8-5 4-4 1-2 3-3-2-5 1-3 4-2v5h3l-3 3 13-7h2l1-6h1l1-4 1-11 1-4-3-8-3-6v-2l-3-5-2-18v-3l-1-2v-9l-6 1-1-2h-1l-4-1-4-3-5-2-9 3-2-1-3 2-4 3-10-5-3 4-5-1-5-4-2 3h-3v-2l-6-3-3 1-2-2h-7l-6-6-1 2h-4l-4-4-1-6-1-33h-25l-23-1h-1zm465-184-14 6v-1l-8 3h-2v1l4 14 1 2-2 3 1 1 6-5 3-4 1 1 14-6v-3l-1-2-3-8v-2zm-13-67-1 2-2-1-1 7 3 8v2l-5 6 1 5v12l4 16 4-1 12-4 6-6v-5l-1 1v-1l-6-7v-1l-14-33z"/>
    <path d="m947 152-1-2v1l1 1zm1-1-1-3v3h1zm0-3 1 1v2l1-1-1-2v-1h-1v1zm-11-4v1l3 8 1 2v2l5-4-1-6 2-1-4-5-5 2-1 1zm-14-11-4-16v-12l-1-5 5-6v-2l-3-8h-1l-5 2-5 2-12 5h-1l4 10 2 10 5 8 5 16v-1h1l2-1h2l5-2h1zM718 345l1 1h1l1 40v22l5 30 5 1 1-9 2 5 3 3 6-4-5-10 42-7h3v-1l-2-4-1-8-2-3 1-8 2-2-7-13-13-39v-1l-3 1-16 2-7 1-17 3z"/>
    <path d="M855 535h-1 1zm-1 0zm0 0zm-13 2zm0 0zm0 0zm-1 0zm27-6zm3-1zm-1 0v-1h-1l1 1zm0 0-2-1 1 1h1zm9-5zm1-1 1-1-1 1zm1-1h-1 1zm-2-1zm1-1zm-3 0zm3-2zm1 0v-1 1zm-1-1v1-1zm4 0h-1 1zm-4 0h-1 1zm2-1h-1 1zm0 0zm-8 0zm1 0zm-2 0v-1h-1l1 1zm-2-1h1-1zm15 0-2 1h1l1-1zm-14-1v1-1zm15-4 1-1v-1l-1 2zm1-6-1-1v1h1zm-23 3zm-2-1h-1 1zm-2 0zm-2 0v1-1zm3 0h-1 1zm-13-10v1h1l-1-1zm-2-3-1-1v1h1zm3 2-1-3h-1l2 3zm-4-4v-1 1zm-8-10-2-2 1 1 1 1zm44-7-7-12h-1l8 12zm-49-19h-1 1zm-1-1v1-1zm-1 0v-1 1zm1-1zm0 0zm0 0-1-1h1v1zm-1-1zm1-2h-1v1l1-1zm0 1v-1 1zm-4-5zm-4 0v1-1zm-35-3 3-2-3 2zm6-4v-1l-1 1h1zm-37-7-11 3 6-1 5-2zm26-16h-3l-42 7 5 10-1 4 3-1 3-3 6-1 7-2 5 1-1 1 8 3 7 4 2 3 5-1 13-10h4l19 15 4-1 4 5 1 9-1 5v3l4 7-2-6h5v4l-2 6 8 11h3l-3-3h3l2-1-1 6 5 4 2 7 4 3 5 1 7 8 3 2-4 1 2 2 7-2 4-3 4-12-2-19-1-2-9-15-8-12-4-9 4 3 2 8 4 6-4-8v-4l-12-15-3-5-4-8-3-7-2-2-1-3v-1h-6l-3 2-1 8-2-4-46 6-3-5z"/>
    <path d="M846 396v-3l-1 3h1zm1-4v-3l-1 2 1 1zm-46-62-1 1-3 1-14 2-1 1h-2l-7 1-2 1-9 1h-1v1l13 39 7 13-2 2-1 8 2 3 1 8 2 4v1l3 5 46-6 2 4 1-8 3-2h6v-10l1-2-1-4 2-4 2-3-2-1 4-4-6-6-8-11-5-2-18-16-5-6-9-3v-2l2-6zm-84 113h-1 1zm9-1h-2 2zm-11 1h-1 1zm9-1h-4 4zm-41-93-4 7v5l-5 7 1 1-3 16 1 3-1 1 1 2v1l2 5v3l3 4-7 13-1 8-2 3 1 3-1 1 33-3-1 4 4 9 3 3v-1l3-4 8-1h7l1-1-5-30v-22l-1-40h-1l-1-1-5 1-8 1-20 2h-2z"/>
    <path d="m801 330-2 6v2l9 3 5 6 18 16 5 2 8 11 6 6 1-5-2-4 4 3 2-2-4-3h5l8-7-1-1 5-4-1-2 4-2v-5l5-10 4-4-22-14-8 1h-11l-5-3-32 10h-1zM661 198v1l4 2 1 2 4 4v3l-2 6-5 4-4 1-1 5h1l-1 10-4 2 1 4-1 1-1 4 3 9 11 9 1 4 2 3 7-1-1 7v7l4 3 6 3 4 3 2 5-1 2 7 6-1-1 2-4 8 2 2-2-2-5 6-3-1-2 1-4v-9l2-1 4-9-1-4-3-4 2-5-7-48-1-1-3-6-2-2v-6l-14 2-7 1-22 2z"/>
    <path d="m750 200-15 3-3 1-12 1-2 3-4 1h-2l-1-1h-1l7 48-2 5 3 4 1 4-4 9-2 1v9l2-3h4l4-1 5 2 1-2 3-3 5 1 2-5h7v-2l6-8-1-4h4l6-4-2-5h1l-1-2-5-34-3-15v-2l-1-1z"/>
    <path d="M693 317v-1h-1v2l1-1zm67-63h-1l2 5-6 4h-4l1 4-6 8v2h-7l-2 5-5-1-3 3-1 2-5-2-4 1h-4l-2 3-1 4 1 2-6 3 2 5-2 2-8-2-2 4 1 1-1 8v1l-3 1h3l20-3-1-4h3l39-5 28-5h1v-1l8-3 5-8 1-2 4-3 4-6 1-1h-3l-3-2-5-7-2-6v-1l-5-2-1-3-4 3-2 1-3-1-3 2-5-3-1 1-5-4-3-2-5 1v1zm130 78-1 1 1-1zm1-5v1-1zm6-9-2 1v1l2-2zm12-7h-2 2zm-2 0h-1l-2 1 3-1zm3 1 3-7-2 3-1 4zm4-9 1-2h-1v2zm8-8-2-11 2 6v5zm-12-24 5 9 4 4-9-13zm-2 0h2-2zm-89 22-1 2v4h-1l-2 5h-3l-5 5h-3l-3 4-8 7-4 1-4 4v2l-3 2v6l1-1 14-2 3-1 1-1h1l32-10 5 3h11l8-1 22 14 1-1 10-4v-5l3-7 4-3 8-6 1-2 2 1 1-6-1 2-4 2h-4l5-4-2-1 2-4-9-1v-1l7-1 3 1h3l3-2 2-4h1v-6l-2-2-2 2v5l-2-6h-1l-9 4 4-5v-1l5-1 1-4 3 2-3-5-3-2-38 12-25 6-25 5v-1z"/>
    <path d="m818 207-2-11-1-2-2-12-4 2-7 6-5 6-4 1-7 4-4-3-12-1-6 1-6 2-6 1h-1v2l3 15 5 34 1 2v-1l5-1 3 2 5 4 1-1 5 3 3-2 3 1 2-1 4-3 1 3 5 2 4-2 1-3-1-3 4-5 2-1v-4l4-5 4-2 3-5v-21h1l-1-2zm-32 93-28 5-39 5h-3l1 4-20 3h-3l-1 1v-1l-1 1 1 2-2 3v5l-3 6v4l-2 4v4l-3 3h2l20-2 8-1 5-1 17-3 7-1 16-2 3-1h1l9-1 2-1 7-1h2v-6l3-2v-2l4-4 4-1 8-7 3-4h3l5-5h3l2-5h1v-4l1-2-2 1-5 1-7 2-17 3h-2z"/>
    <path d="M909 271v-1 1zm-4-11v1l1-1h-1zm2-3v-1 1zm0 1-1 1v1l1-2zm0-3h1-1zm1-2v-1 2-1zm0-2 1-2-1 1v1zm2-9v-1 1zm0-3-2 1-2 1v1l-2 14v3l2-6 2-8 2-5v-1zm1 0v3-3zm-101 37-1 1-4 6-4 3-1 2-5 8-8 3v1h1l17-3 7-2 5-1 2-1v1l25-5 25-6 38-12h1v-3l2 3v-1l-4-6-5 1-2 1-2-2-8-2h-5l10-1 5 4 2-3-4-5h3l-2-5-4 1-9-8h-1l13 7-1-5 1-1-7-3h-6l-2-3-3 2-1-7h1v-5l-1-1-3-2-3-2-5-1-1 4-9-4v6l-5 9-3 4-1 5-6-2-3 13-3 5v6l-2 3-6 1-6 5h-2l-3 2-6-2-1-3zM706 135l-3 3-1 4 1 3 3-10zm-56-23 2-2-2 1v1zm2-3v-1l-1 1h1zm-21 5-2 3 1 11-6 6-1 5 3 4-1 13 4 3h2l7 4 5 5 6 3 1 8 3 4-1 2 1 6 3 4 6 3h-1l22-2 7-1 14-2-1-2v-4l-2-5-1-6 1-7-1-5 3-7-1-1v-6l1-4-1-2-3 1-1 4-4 2 1-5 3-4 1-2-5-5v-6l-5-5h-7l-8-2-16-5-3-2v1l-5-1-2 1 1-7-8 4-10 1zm19-5v-1l-1 1h1zm-3-1zm7-1-1-2v2h1z"/>
    <path d="m837 224-14 3-4-18h-1v21l-3 5-4 2-4 5v4l-2 1-4 5 1 3-1 3-4 2 2 7 5 7 3 2h3l1 3 6 2 3-2h2l6-5 6-1 2-3v-6l3-5 3-13 6 2 1-5 3-4 5-9v-6l9 4 1-4-3-5-6-1-3 3v2l-3 1-4 3h-3l-4 6-2-10-2 1zm57-16v1l8 23 9-3h1l-2-6-12-11 1-8h-3l-1 2-1 2zm-16 21 1 1h1v1l2-2-2-1h-1l-1 1z"/>
    <path d="M912 238v-5 4l-1 2 1-1zm0-9v2-2zm-73-6 2 10 4-6h3l4-3 3-1v-2l3-3 6 1 3 5 5 1 3 2 3 2 1-1h1l2 1-2 2-2 6 6 4h7l3 2-1-5-5-1-2-4 4 4h2l-2-2-2-7 1-4-2-4 2-2 1-6v9l1 3 2-4 1 6-2 4 5 1-4 2 2 4 3 1 2-3v4h3l3 3v-1l2-1 2-1h-1l3-7v-1l-1-1v-1l-9 3-8-23v-1h-2l-7 2-38 11-7 2h-1zm78-16-1-1v1h1zm1-3v-3l-1 2 1 1zm-4-30-10-3h-4l-4 9 2 2v6h2l3 10v1l-5 7 1 5 11 4v4l3-3 1-6 2-2-1-4 2-4v-14h-5l1-5 1-7z"/>
    <path d="m914 182-2 2 2-2zm13-5 5-4-5 4zm-13 3v-3 3zm23-15-1-1-1 1h2zm2-2v1-1zm-2 0-7 6-10 4-3 2v3l-2 2v3l4-2 6-5 7-4 10-9-7 5-2 1 4-6zm3-4v-1l-1 2 1-1zm-109-4h-2l1 2 1-2zm32-30v-1l-1 1h1zm0-7v1l-1 1 1-2zm-41 56 1 3 5 1 30-8 29-9 6 4 1 2 6 3v1h4l10 3v-1 4h2l1-4v-1l-1-1 2-3-1-2-4-14v-1l-1-5v-10 1l-5-16-5-8-2-10-4-10h-1l-20 7-4 4-5 9 1 2-6 9 3 1 1 7-4 6-13 8-2-1-10 1-9 5 1 3 3 3-2 8-7 9z"/>
    <path d="m900 170-6-3-1-2-6-4-29 9-30 8-5-1-1-3-1 1-3 2-5 5 2 12 1 2 2 11 1 2 4 18 14-3 2-1h1l7-2 38-11 7-2h2l1-2 1-2h3l4-5v-1l-3-10h-2v-6l-2-2 4-9v-1zm47-52zm7-20-1-1 1 1zm-1-1v-2 2zm3-4v-1 1zm10-5v-2l-1 1 1 1zm-3 0v-1h-1l1 1zm4-3zm-5 2-1-1v1h1zm5-3h1v-1l-1 1zm-3 0v1h1l-1-1zm-4 0v1-1zm6-3v-1 1zm0 0-1-1v1h1zm-6 2v-1 1zm9-3-1 2v-2h1zm7-7v-1h-1l1 1zm3-4h-1 1zm1-8h-1l1 1v-1zm2 1-1-1v-1l1 2zm-2-1v-2l-1 1 1 1zm-56 15 14 33v1l6 7h1v-6l2-2 1-5-1-1 2-5 5-2 4-5 1-8h6v-4l7-3v-4h2l5-4 2-5-5-5-5-1-2-4v-2l-3 1-4-2v-4l-9-20-8-4-7 6h-3l-1-3-3 1-4 17 2 6 1 12-3 9 2 2-2 4h-3zm-204 62-1-1v1h1zm2-2-2-1v1h2zm0-7zm-2 76 12-1 3-1 15-3 1 1h1l6-1 6-2 6-1 3-7v-5l4-9 3 2 1-2-1-8-2-5-4-10-4-4-1-1-7 5 1 1-3 6-3-1-1-6 1-1 3-6v-12l-4-9-10-2-1-1-9-3-4 5v4l-3 4 1 6-3 2v-7l-3 5-3 6-2 1 1 6-1 5v7l-1 3 7 14 1 5-1 9-4 11h-1zm21-87h-3l2 1 1-1zm-15 3h-1 1zm17-13-1-1 1 1zm-88 7 3 2 16 5 8 2h7l5 5v6l5 5 3-11 5-3 3-4 1 3 4-5 8-4 1-1 9 1 3 2 2-4 1 1 7-2-2-2-3-2 1-6-6 3-5-1-2-4v-1l-7 3-5 1-8 5-1 2-5-2-4 2-6-6-15-4v-2l-10 9-5 1-8 6zm34-22-11 6 4 4 1-4 4-5 2-1zm-12-13-8 5v3l6-5 2-3zM101 543zm4 1zm-2-2zm-1-1zm2 1zm0 0zm-76-64v3-3zm0-2v1-1zm76 65v-1 1zm11 5zm-7-4-1-1v3l1-2zm2 3v-1h-2l2 1zm6 1zm0 0h1-1zm2 0h-1 1zm-86-65h1-1zm83 64zm-88-72-2-1v1h2zm91 72zm6 1-4 1h-1l5-1zM20 458h-1 1zm116 93v-1h-1l1 1zm5 0zm3 1h1-1zm-3-2zm7 2zM20 453h-1l2 2-1-2zm123 97zm16-1v-1 1zm-2-1-4 3h3l2-3h-1zm6 1h-1 1zm1 0h-1 1zm-4-1h-1 2-1zm5 1v-1l-1 1h1zm-3-1v-1 1zm12 2zm1 0h-1 1zm-2-1v1-1zm1 0h-1l1 1v-1zm1-1zm12 2-1-1 1 1zm104-7zm-118 3zm121-5v1-1zm-106 8zm-12-2v-1 1zm123-8v1-1zm-122 8v-1 1zm-7-3-2 1-2 3 4-4zm18 4-1 1 1-1zm111-9v-1 1zm-121 7v-1 1zm115-6v1-1zm-113 5v1-1zm7 3v-1 1zm-8-3zm7 2h-1l-1 1 2-1zm105-7zm-117 3h1-1zm-1 0zm118-4zm-107 6zm106-6zm-1 0zm-100 5-1-1 1 1zm100-7h1-1zm1-1v1-1zm-2 1h-1 1zm10-4-2 4 2-1v-3zm-115 8h-1 1zm106-6-1 1v1l1-2zm-90 7zm89-8 3 4 6 4-1-3-6-6-2 1zm-93 7h-1 1zm96-9v2l1-1-1-1zm2 0v1h1l-1-1zm-95 8h-1 1zm10 0-1 1h1v-1zm1 1h-1 1zm-59-13 1 1v-1h-1zm39 10zm0 0zm101-8v2l1-1-1-1zm-98 7v-1 1zm94-6v4l1-1-1-3zm0-2 2 4v-2l-2-2zm-7 1v2-2zm-78 5zm10 0h-1 1zm68-6 4 6v-4l-4-2zm-63 3v1-1zm-1 0zm-1 0-3 2-3 4 2 2 7-6-3-2zm61-6h-1 1zm-62 5v1h1l-1-1zm64-7-2 1 2 1v-2zm-1 0h-1 1zm6-1-1-1v1h1zm-5 0zm3 0 4 5-1-5h-3zm-64 6-3 2 1 1 3-3h-1zm-27-4zm-1 0v-1 1zm30 1zm-1 0zm2-1zm1 0zm-1 0h-1 1zm19-2v-1 1zm6-3 1-2-1 2zm-12-1h1-1zm0-1v1-1zm-16 0zm16 0-1 1 1-1zm10-1h1-1zm1 0zm-8 1v-1 1zm6-2zm-5 1-2 3 3-3h-1zm-3 0zm7-1zm3 0zm-71-7h-5l3 3 2-3zm66 7v1l1-1h-1zm-4 0v2-2zm-84-16v-1 1zm83 14v1-1zm0 1-1-1 1 1zm4-1v-1 1zm-4-1v1-1zm-8-1zm-50-12v-1 1zm0-1zm4-2v-1 1zm0-1zm2-2zm1 0h-1 1zm-1-1zm-16-4v-1 1zm2-2zm-3 0v-1 1zm-1-2zm0-1zm0 0zm25 8h-1 1zm-26-10-1 3h2l4 4 1-1-6-6zm17 1zm-5-10zm3 1zm2-1h1-1zm3-1zm1 0zm1 0zm1 0zm61-18h-1 1zm-51-2 1-1-1 1zm2-1v-1 1zm0-1 1-1-1 1zm31 0v1h1l-1-1zm-16-6-4 3-2-1-6 3h-1l-6 7-7 1 1 4 3 4 5 5-1 2 4 2h-2l-2-2 1 3-2 1-5-5-5 1-7 3 3 4v2l2 3 7 3 6-3v2l-1 6h-4l-6 2v-1l-3 1-1 3-4 3v5l1 1-1 4 6 5 3-2v7l1 1 4 1 2 2h4l2 2 4-1-2 2-2 6-12 7-1 2-2-1-4z"/>
  </svg>


  <div class="relative z-10"> <%# Content wrapper %>
    <%# Added padding top to prevent flag overlap on small screens %>
    <h1 class="text-3xl md:text-4xl font-bold text-center mb-6 text-gray-900 pt-16 md:pt-0">2025 Portfolio-Ready Project Leaderboard</h1>

    <div class="mb-8 p-4 border border-gray-300 bg-gray-50 rounded-lg max-w-3xl mx-auto text-sm shadow-lg text-gray-700">
      <h3 class="text-lg font-semibold mb-2 text-center md:text-left text-gray-800">What is a 'Portfolio-Ready Project'?</h3>
      <p class="mb-2">This metric, used by Hack Club, represents approximately <strong>10 hours of focused work</strong> by a high school student creating a coding project (like a website, app, or game) that is then <strong>published online</strong> for others to see and use.</p>
      <p><strong>Why it Matters:</strong> In the tech industry, portfolios of completed projects are the primary way talent is evaluated. This metric quantifies the real-world technical skills students are developing and demonstrating in your district – skills crucial for future innovation and workforce readiness.</p>
    </div>

    <%# --- Top 3 Section --- %>
    <div class="flex flex-col md:flex-row justify-center items-center md:items-end gap-4 mb-12 max-w-4xl mx-auto">

      <%# Find items for ranks 1, 2, 3 %>
      <% rank_1_item = @ranked_districts.find { |i| i.normalized_rank == 1 } %>
      <% rank_2_item = @ranked_districts.find { |i| i.normalized_rank == 2 } %>
      <% rank_3_item = @ranked_districts.find { |i| i.normalized_rank == 3 } %>

      <%# Rank 2 Card (Blue) %>
      <% if rank_2_item %>
        <div class="bg-blue-100 text-blue-900 p-4 md:p-6 rounded-lg text-center order-2 md:order-1 w-64 transform md:translate-y-8 shadow-xl border border-blue-300 has-tooltip">
          <%# Tooltip Content %>
          <span class='tooltip !p-2 !max-w-sm'> <%# Adjusted padding and max-width for better card layout %>
            <strong class="block mb-2 text-center text-sm">Recent Projects:</strong>
            <div class="space-y-2"> <%# Container for project cards %>
              <% if rank_2_item.recent_projects.any? %>
                <% rank_2_item.recent_projects.each do |proj| %>
                  <div class="bg-white border border-gray-200 rounded p-2 text-xs text-gray-700 shadow-sm">
                    <p class="font-semibold mb-1 truncate"><%= (proj.fields['YSWS–Name'].is_a?(Array) ? proj.fields['YSWS–Name'].first : proj.fields['YSWS–Name']) || 'Untitled Project' %></p>
                    <% if proj.fields['Description'].present? %>
                      <p class="text-gray-600 text-[11px] mb-2 line-clamp-2"><%= proj.fields['Description'] %></p>
                    <% end %>
                    <%# Bottom row with buttons and date %>
                    <div class="flex justify-between items-end mt-1">
                      <%# Buttons on the left %>
                      <div class="flex space-x-1">
                        <% if proj.fields['Playable URL'].present? %>
                          <%= link_to 'Play', proj.fields['Playable URL'], target: '_blank', class: 'text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded hover:bg-green-200' %>
                        <% end %>
                        <% if proj.fields['Code URL'].present? %>
                          <%= link_to 'Code', proj.fields['Code URL'], target: '_blank', class: 'text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded hover:bg-blue-200' %>
                        <% end %>
                      </div>
                      <%# Date on the right %>
                      <% if date_str = proj.fields['Approved At'] %>
                        <% begin %>
                          <span class="text-[10px] text-gray-500 whitespace-nowrap"><%= Date.parse(date_str).strftime('%b %d, %Y') %></span>
                        <% rescue ArgumentError %>
                          <%# Silently ignore invalid dates or show placeholder %>
                        <% end %>
                      <% end %>
                    </div>
                  </div>
                <% end %>
              <% else %>
                <span class="text-xs text-gray-500 block text-center">No recent projects.</span>
              <% end %>
            </div>
          </span>
          <%# Card Content %>
          <% if rank_2_item.district.representative_picture_url.present? %>
            <%= image_tag rank_2_item.district.representative_picture_url, alt: rank_2_item.district.representative_name, class: "w-16 h-16 md:w-20 md:h-20 rounded-full mx-auto mb-3 border-2 border-blue-300 object-cover" %>
          <% else %>
            <div class="w-16 h-16 md:w-20 md:h-20 rounded-full mx-auto mb-3 border-2 border-blue-300 bg-blue-200 flex items-center justify-center text-blue-500 text-xs">No Pic</div>
          <% end %>
          <h3 class="font-semibold text-md md:text-lg truncate"><%= rank_2_item.district.representative_name %></h3>
          <p class="text-xs text-blue-700 truncate mb-2"><%= rank_2_item.district.name %></p>
          <%# Main Project Count %>
          <p class="text-sm md:text-base font-semibold text-blue-800 mb-1">
            <%= number_with_precision(rank_2_item.district.project_count, precision: 0) %> projects
          </p>
          <%# Past 30 Days Secondary Info %>
          <p class="text-xs text-blue-600 mb-3">
            <% if rank_2_item.district.recent_project_count > 0 %>
              (<span class="text-green-600 font-semibold">&uarr;<%= number_with_precision(rank_2_item.district.recent_project_count, precision: 0) %></span> Past 30 Days)
            <% else %>
              (- Past 30 Days)
            <% end %>
          </p>
          <div class="bg-blue-600 text-white py-1 px-3 md:py-2 md:px-4 rounded-md inline-block text-lg md:text-xl font-bold mt-2">
            #2
          </div>
        </div>
      <% end %>

      <%# Rank 1 Card (White/Light Gray - Center) %>
      <% if rank_1_item %>
        <div class="bg-gray-100 text-gray-900 p-6 md:p-8 rounded-lg text-center order-1 md:order-2 w-72 z-10 shadow-2xl border border-gray-300 has-tooltip">
          <%# Tooltip Content %>
           <span class='tooltip !p-2 !max-w-sm'> <%# Adjusted padding and max-width %>
            <strong class="block mb-2 text-center text-sm">Recent Projects:</strong>
            <div class="space-y-2"> <%# Container for project cards %>
              <% if rank_1_item.recent_projects.any? %>
                <% rank_1_item.recent_projects.each do |proj| %>
                   <div class="bg-white border border-gray-200 rounded p-2 text-xs text-gray-700 shadow-sm">
                    <p class="font-semibold mb-1 truncate"><%= (proj.fields['YSWS–Name'].is_a?(Array) ? proj.fields['YSWS–Name'].first : proj.fields['YSWS–Name']) || 'Untitled Project' %></p>
                    <% if proj.fields['Description'].present? %>
                      <p class="text-gray-600 text-[11px] mb-2 line-clamp-2"><%= proj.fields['Description'] %></p>
                    <% end %>
                    <%# Bottom row with buttons and date %>
                    <div class="flex justify-between items-end mt-1">
                      <%# Buttons on the left %>
                      <div class="flex space-x-1">
                        <% if proj.fields['Playable URL'].present? %>
                          <%= link_to 'Play', proj.fields['Playable URL'], target: '_blank', class: 'text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded hover:bg-green-200' %>
                        <% end %>
                        <% if proj.fields['Code URL'].present? %>
                          <%= link_to 'Code', proj.fields['Code URL'], target: '_blank', class: 'text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded hover:bg-blue-200' %>
                        <% end %>
                      </div>
                      <%# Date on the right %>
                      <% if date_str = proj.fields['Approved At'] %>
                        <% begin %>
                          <span class="text-[10px] text-gray-500 whitespace-nowrap"><%= Date.parse(date_str).strftime('%b %d, %Y') %></span>
                        <% rescue ArgumentError %>
                          <%# Silently ignore invalid dates or show placeholder %>
                        <% end %>
                      <% end %>
                    </div>
                  </div>
                <% end %>
              <% else %>
                <span class="text-xs text-gray-500 block text-center">No recent projects.</span>
              <% end %>
            </div>
          </span>
          <%# Card Content %>
          <% if rank_1_item.district.representative_picture_url.present? %>
            <%= image_tag rank_1_item.district.representative_picture_url, alt: rank_1_item.district.representative_name, class: "w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 border-2 border-gray-400 object-cover" %>
          <% else %>
             <div class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 border-2 border-gray-400 bg-gray-200 flex items-center justify-center text-gray-500 text-sm">No Pic</div>
          <% end %>
          <h3 class="font-bold text-lg md:text-xl truncate"><%= rank_1_item.district.representative_name %></h3>
          <p class="text-sm text-gray-600 truncate mb-2"><%= rank_1_item.district.name %></p>
           <%# Main Project Count %>
          <p class="text-base md:text-lg font-semibold text-gray-800 mb-1">
            <%= number_with_precision(rank_1_item.district.project_count, precision: 0) %> projects
          </p>
          <%# Past 30 Days Secondary Info %>
          <p class="text-xs text-gray-500 mb-3">
             <% if rank_1_item.district.recent_project_count > 0 %>
              (<span class="text-green-600 font-semibold">&uarr;<%= number_with_precision(rank_1_item.district.recent_project_count, precision: 0) %></span> Past 30 Days)
            <% else %>
              (- Past 30 Days)
            <% end %>
          </p>
          <div class="bg-gray-700 text-white py-2 px-4 md:py-3 md:px-5 rounded-md inline-block text-xl md:text-2xl font-extrabold mt-2">
            #1
          </div>
        </div>
      <% end %>

      <%# Rank 3 Card (Red) %>
      <% if rank_3_item %>
        <div class="bg-red-100 text-red-900 p-4 md:p-6 rounded-lg text-center order-3 md:order-3 w-64 transform md:translate-y-8 shadow-xl border border-red-300 has-tooltip">
          <%# Tooltip Content %>
          <span class='tooltip !p-2 !max-w-sm'> <%# Adjusted padding and max-width %>
            <strong class="block mb-2 text-center text-sm">Recent Projects:</strong>
             <div class="space-y-2"> <%# Container for project cards %>
              <% if rank_3_item.recent_projects.any? %>
                <% rank_3_item.recent_projects.each do |proj| %>
                  <div class="bg-white border border-gray-200 rounded p-2 text-xs text-gray-700 shadow-sm">
                    <p class="font-semibold mb-1 truncate"><%= (proj.fields['YSWS–Name'].is_a?(Array) ? proj.fields['YSWS–Name'].first : proj.fields['YSWS–Name']) || 'Untitled Project' %></p>
                    <% if proj.fields['Description'].present? %>
                      <p class="text-gray-600 text-[11px] mb-2 line-clamp-2"><%= proj.fields['Description'] %></p>
                    <% end %>
                    <%# Bottom row with buttons and date %>
                    <div class="flex justify-between items-end mt-1">
                      <%# Buttons on the left %>
                      <div class="flex space-x-1">
                        <% if proj.fields['Playable URL'].present? %>
                          <%= link_to 'Play', proj.fields['Playable URL'], target: '_blank', class: 'text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded hover:bg-green-200' %>
                        <% end %>
                        <% if proj.fields['Code URL'].present? %>
                          <%= link_to 'Code', proj.fields['Code URL'], target: '_blank', class: 'text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded hover:bg-blue-200' %>
                        <% end %>
                      </div>
                      <%# Date on the right %>
                      <% if date_str = proj.fields['Approved At'] %>
                        <% begin %>
                          <span class="text-[10px] text-gray-500 whitespace-nowrap"><%= Date.parse(date_str).strftime('%b %d, %Y') %></span>
                        <% rescue ArgumentError %>
                          <%# Silently ignore invalid dates or show placeholder %>
                        <% end %>
                      <% end %>
                    </div>
                  </div>
                <% end %>
              <% else %>
                <span class="text-xs text-gray-500 block text-center">No recent projects.</span>
              <% end %>
            </div>
          </span>
          <%# Card Content %>
          <% if rank_3_item.district.representative_picture_url.present? %>
            <%= image_tag rank_3_item.district.representative_picture_url, alt: rank_3_item.district.representative_name, class: "w-16 h-16 md:w-20 md:h-20 rounded-full mx-auto mb-3 border-2 border-red-300 object-cover" %>
          <% else %>
            <div class="w-16 h-16 md:w-20 md:h-20 rounded-full mx-auto mb-3 border-2 border-red-300 bg-red-200 flex items-center justify-center text-red-500 text-xs">No Pic</div>
          <% end %>
          <h3 class="font-semibold text-md md:text-lg truncate"><%= rank_3_item.district.representative_name %></h3>
          <p class="text-xs text-red-700 truncate mb-2"><%= rank_3_item.district.name %></p>
           <%# Main Project Count %>
           <p class="text-sm md:text-base font-semibold text-red-800 mb-1">
             <%= number_with_precision(rank_3_item.district.project_count, precision: 0) %> projects
           </p>
           <%# Past 30 Days Secondary Info %>
           <p class="text-xs text-red-600 mb-3">
             <% if rank_3_item.district.recent_project_count > 0 %>
               (<span class="text-green-600 font-semibold">&uarr;<%= number_with_precision(rank_3_item.district.recent_project_count, precision: 0) %></span> Past 30 Days)
             <% else %>
               (- Past 30 Days)
             <% end %>
           </p>
          <div class="bg-red-600 text-white py-1 px-3 md:py-2 md:px-4 rounded-md inline-block text-lg md:text-xl font-bold mt-2">
            #3
          </div>
        </div>
      <% end %>
    </div>

    <%# --- Ranks 4+ List --- %>
    <div class="max-w-3xl mx-auto space-y-3">
      <% @ranked_districts.select { |i| i.normalized_rank >= 4 }.each do |item| %>
        <%# Add has-tooltip to the main div %>
        <div class="bg-gray-50 border border-gray-200 rounded-lg p-3 md:p-4 flex items-center justify-between shadow-md hover:bg-gray-100 transition duration-150 ease-in-out text-gray-800 has-tooltip relative">
          <%# Tooltip Content %>
          <span class='tooltip !p-2 !max-w-sm'> <%# Adjusted padding and max-width %>
            <strong class="block mb-2 text-center text-sm">Recent Projects:</strong>
            <div class="space-y-2"> <%# Container for project cards %>
              <% if item.recent_projects.any? %>
                <% item.recent_projects.each do |proj| %>
                  <div class="bg-white border border-gray-200 rounded p-2 text-xs text-gray-700 shadow-sm">
                    <p class="font-semibold mb-1 truncate"><%= (proj.fields['YSWS–Name'].is_a?(Array) ? proj.fields['YSWS–Name'].first : proj.fields['YSWS–Name']) || 'Untitled Project' %></p>
                    <% if proj.fields['Description'].present? %>
                      <p class="text-gray-600 text-[11px] mb-2 line-clamp-2"><%= proj.fields['Description'] %></p>
                    <% end %>
                    <%# Bottom row with buttons and date %>
                    <div class="flex justify-between items-end mt-1">
                      <%# Buttons on the left %>
                      <div class="flex space-x-1">
                        <% if proj.fields['Playable URL'].present? %>
                          <%= link_to 'Play', proj.fields['Playable URL'], target: '_blank', class: 'text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded hover:bg-green-200' %>
                        <% end %>
                        <% if proj.fields['Code URL'].present? %>
                          <%= link_to 'Code', proj.fields['Code URL'], target: '_blank', class: 'text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded hover:bg-blue-200' %>
                        <% end %>
                      </div>
                      <%# Date on the right %>
                      <% if date_str = proj.fields['Approved At'] %>
                        <% begin %>
                          <span class="text-[10px] text-gray-500 whitespace-nowrap"><%= Date.parse(date_str).strftime('%b %d, %Y') %></span>
                        <% rescue ArgumentError %>
                          <%# Silently ignore invalid dates or show placeholder %>
                        <% end %>
                      <% end %>
                    </div>
                  </div>
                <% end %>
              <% else %>
                <span class="text-xs text-gray-500 block text-center">No recent projects.</span>
              <% end %>
            </div>
          </span>
          <%# List Item Content %>
          <div class="flex items-center space-x-3 md:space-x-4 flex-1 min-w-0">
            <span class="text-gray-500 font-semibold w-6 md:w-8 text-center flex-shrink-0">#<%= item.normalized_rank %></span>
            <% if item.district.representative_picture_url.present? %>
              <%= image_tag item.district.representative_picture_url, alt: item.district.representative_name, class: "w-10 h-10 md:w-12 md:h-12 rounded-full border border-gray-300 flex-shrink-0 object-cover" %>
            <% else %>
              <div class="w-10 h-10 md:w-12 md:h-12 rounded-full border border-gray-300 bg-gray-200 flex items-center justify-center text-gray-500 text-xs flex-shrink-0">No Pic</div>
            <% end %>
            <div class="flex-1 min-w-0">
              <span class="font-medium truncate block text-gray-900"><%= item.district.representative_name %></span>
              <span class="text-xs text-gray-600 truncate block"><%= item.district.name %></span>
            </div>
          </div>
          <%# Main Project Count + Separate Past 30 Days Column %>
          <div class="ml-2 flex-shrink-0 flex items-center space-x-6">
            <%# Main Count %>
            <span class="font-semibold text-sm md:text-base text-gray-700">
              <%= number_with_precision(item.district.project_count, precision: 0) %> projects
            </span>
            <%# Past 30 Days Column %>
            <div class="text-center w-20">
              <div class="text-gray-500 uppercase tracking-wider text-[9px] mb-0.5">Past 30 Days</div>
              <div class="font-semibold text-sm">
                <% if item.district.recent_project_count > 0 %>
                  <span class="text-green-600 inline-flex items-center">
                    &uarr;<%= number_with_precision(item.district.recent_project_count, precision: 0) %>
                  </span>
                <% else %>
                  <span class="text-gray-400">-</span>
                <% end %>
              </div>
            </div>
          </div>
        </div>
    <% end %>
    </div>
  </div> <%# End Content wrapper %>

</div>
